{"version":3,"sources":["tags.js"],"names":[],"mappings":"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","file":"tags.es5.js","sourcesContent":["riot.tag2('gp-colorpicker', '<div class=\"colorlist\"><div class=\"color\" each=\"{color in colorList.concat(customColors)}\"><div class=\"colordot\" riot-style=\"background-color:{color}\" onclick=\"{selectColor}\"></div></div><div class=\"color\"><div class=\"colordot new\" onclick=\"{showColorWheel}\"></div></div></div><div class=\"picker {ispickerShown?\\'shown\\':\\'\\'}\"><div class=\"bg\"></div><div class=\"wheelcontainer\"><canvas id=\"picker\" if=\"{showWheel}\" height=\"300\" width=\"{window.innerWidth}\" ontouchmove=\"{getColor}\" ontouchstart=\"{getColor}\"></canvas><div class=\"selector\" riot-style=\"background-color:{selectedColor}\" onclick=\"{colorSelectionDone}\"><svg fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"></path></svg></div></div></div>', '', '', function(opts) {\n\t\tvar self=this;\n\t\tvar context;\n\t\tvar heightFactor=window.innerHeight-300;\n\n\t\tthis.customColors=[];\n\n\t\tif(localStorage.customColors){\n\t\t\tself.update({customColors:JSON.parse(localStorage.customColors)});\n\t\t}\n\n\t\tthis.colorList =[\"rgb(255,255,255)\", \"rgb(0,0,0)\", \"rgb(148,0,211)\", \"rgb(75,0,130)\", \"rgb(0,0,255)\", \"rgb(0,255,0)\", \"rgb(255,255,0)\", \"rgb(255,127,0)\"];\n\t\tthis.ispickerShown=false;\n\t\tthis.pickerLeft=0;\n\t\tthis.pickerTop=0;\n\t\tthis.showWheel=false;\n\t\tthis.selectedColor=\"tomato\";\n\n\t\tfunction makeColorWheel(){\n\t\t\tvar canvas = document.getElementById(\"picker\");\n\t\t\tcontext = canvas.getContext(\"2d\");\n\t\t\tvar x = canvas.width / 2;\n\t\t\tvar y = canvas.height / 2;\n\t\t\tvar radius = 100;\n\t\t\tvar counterClockwise = false;\n\n\t\t\tfor(var angle=0; angle<=360; angle+=1){\n\t\t\t    var startAngle = (angle-2)*Math.PI/180;\n\t\t\t    var endAngle = angle * Math.PI/180;\n\t\t\t    context.beginPath();\n\t\t\t    context.moveTo(x, y);\n\t\t\t    context.arc(x, y, radius, startAngle, endAngle, counterClockwise);\n\t\t\t    context.closePath();\n\t\t\t    var gradient = context.createRadialGradient(x, y, 0, x, y, radius);\n\t\t\t\tgradient.addColorStop(0,'hsl('+angle+', 10%, 100%)');\n\t\t\t\tgradient.addColorStop(1,'hsl('+angle+', 100%, 50%)');\n\t\t\t    context.fillStyle = gradient;\n\t\t\t    context.fill();\n\t\t\t}\n\t\t\tcontext.beginPath();\n\t\t\tcontext.moveTo(x, y);\n\t\t\tcontext.arc(x, y, radius/1.5, 0, 2*Math.PI);\n\t\t\tcontext.closePath();\n\t\t\tcontext.fillStyle = '#263238';\n\t\t\tcontext.fill();\n\t\t}\n\n\t\tthis.on(\"mount\",(e)=>{\n\t\t\tself.update({ispickerShown:false});\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.update({showWheel:true});\n\t\t\t\tmakeColorWheel();\n\t\t\t},800);\n\t\t});\n\n\t\tthis.selectColor=function(e){\n\t\t\tself.opts.onselectchange&&self.opts.onselectchange(e.target.style.backgroundColor);\n\t\t}\n\n\t\tthis.showColorWheel=function(e){\n\t\t\tself.update({ispickerShown:true});\n\t\t}\n\n\t\tthis.colorSelectionDone=function(e){\n\t\t\tvar tempArr=self.customColors;\n\t\t\ttempArr.push(self.selectedColor);\n\n\t\t\tself.update({\n\t\t\t\tcustomColors:tempArr,\n\t\t\t\tispickerShown:false\n\t\t\t});\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tlocalStorage.customColors=JSON.stringify(tempArr);\n\t\t\t},1);\n\t\t}\n\n\t\tthis.getColor=function(e){\n\t\t\tvar data=context.getImageData(e.touches[0].clientX, e.touches[0].clientY-heightFactor, 1, 1).data;\n\t\t\tif(!(data[0]===255&&data[1]===255&&data[2]===255)&&!(data[0]===38&&data[1]===50&&data[2]===56)&&!(data[0]===0&&data[1]===0&&data[2]===0)){\n\t\t\t\tself.update({selectedColor:'rgb('+data[0]+','+data[1]+','+data[2]+')'});\n\t\t\t}\n\t\t}\n});\nriot.tag2('gp-draw', '<canvas if=\"{showCanvas}\" id=\"canvas\" width=\"800\" height=\"800\"></canvas><div class=\"controls {isControlsOpen?\\'controlsshown\\':\\'\\'}\"><button class=\"btn-control colors\" onclick=\"{showColors}\"><svg fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z\"></path><path d=\"M0 0h24v24H0z\" fill=\"none\"></path></svg></button><button class=\"btn-control brush\" onclick=\"{showBrushes}\"><svg fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\"></path></svg></button><button class=\"btn-control save\" onclick=\"{save}\"><svg fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"></path></svg></button><button class=\"btn-control options {isControlsOpen?\\'controlsshown\\':\\'\\'}\" onclick=\"{openControls}\"><svg class=\"firstleg leg\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg><svg class=\"secondleg leg\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg></button></div><div class=\"bottomsheet {isBottomsheetShown?\\'shown\\':\\'\\'}\"><button class=\"btn-control closesheet\" onclick=\"{closeSheet}\"><svg class=\"firstleg leg\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg><svg class=\"secondleg leg\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg></button><div class=\"title\">{sheetTitle}</div><div class=\"sheetcontent\"><gp-colorpicker if=\"{currentControl===⁗PALLETE⁗}\" onselectchange=\"{selectColor}\"></gp-colorpicker><div class=\"brushlist\" if=\"{currentControl===⁗BRUSHES⁗}\"><div class=\"brushcontrol\" each=\"{brush in brushesList}\" onclick=\"{selectBrush}\"> {brush} </div></div></div></div>', '', '', function(opts) {\n    var self = this;\n    var imageActions = veronica.flux.Actions.getAction(\"ImageActions\");\n    var userStore = veronica.flux.Stores.getStore(\"UserStore\");\n\n    this.brushesList = [\n    \t\"Simple Pencil\",\n        \"Simple Brush\",\n        \"Air Brush\",\n        \"Slice Brush\",\n        \"Radial Brush\",\n        \"Pen Multi Stroke Brush\",\n        \"Spray\"\n    ];\n\n    this.isControlsOpen = false;\n    this.isBottomsheetShown = false;\n    this.currentControl = \"\";\n    this.sheetTitle = \"\";\n\n    var el, ctx;\n    var factor=800/window.innerWidth;\n\t\tvar selectedBrush=\"Simple Pencil\";\n\t\tvar currentColor=\"rgb(0,0,0)\";\n\t\tvar lastPoint;\n\n\t\tfunction getRandomInt(min, max) {\n\t\t  return Math.floor(Math.random() * (max - min + 1)) + min;\n\t\t}\n\n    function startDraw(e){\n    \te.preventDefault();\n    \te.clientX=e.touches[0].clientX*factor;\n    \te.clientY=(e.touches[0].clientY-66)*factor;\n    \tctx.beginPath();\n        ctx.storkeStyle=currentColor;\n    \tctx.fillStyle = currentColor;\n    \tctx.moveTo(e.clientX,e.clientY);\n    \tctx.lineJoin = ctx.lineCap = 'round';\n    \tctx.shadowColor = 'transparent';\n    \tctx.lineWidth = 1;\n    \tswitch(selectedBrush){\n    \t\tcase \"Simple Pencil\":\n    \t\t\tctx.lineWidth = 1;\n    \t\tbreak;\n    \t\tcase \"Simple Brush\":\n    \t\t\tctx.lineWidth = 10;\n    \t\tbreak;\n    \t\tcase \"Air Brush\":\n    \t\t\tctx.lineWidth = 10;\n\t\t\t\tctx.shadowBlur = 10;\n\t\t\t\tctx.shadowColor = currentColor;\n    \t\tbreak;\n    \t\tcase \"Pen Multi Stroke Brush\":\n    \t\tcase \"Slice Brush\":\n    \t\t\tctx.lineWidth = 4;\n    \t\t\tlastPoint = { x: e.clientX, y: e.clientY };\n    \t\tbreak;\n    \t}\n    }\n\n    function draw(e){\n    \te.clientX=e.touches[0].clientX*factor;\n    \te.clientY=(e.touches[0].clientY-66)*factor;\n    \tswitch(selectedBrush){\n    \t\tcase \"Radial Brush\":\n    \t\t\tvar radgrad = ctx.createRadialGradient(e.clientX,e.clientY,10,e.clientX,e.clientY,20);\n\n\t\t\t    radgrad.addColorStop(0, currentColor);\n\t\t\t    radgrad.addColorStop(0.5, 'rgba('+currentColor.substring(currentColor.indexOf('(')+1,currentColor.indexOf(')'))+',0.5)');\n\t\t\t    radgrad.addColorStop(1, 'transparent');\n\n\t\t\t    ctx.fillStyle = radgrad;\n\n\t\t\t    ctx.fillRect(e.clientX-20, e.clientY-20, 40, 40);\n    \t\tbreak;\n    \t\tcase \"Pen Multi Stroke Brush\":\n    \t\tctx.beginPath();\n\n  \t\t  ctx.moveTo(lastPoint.x - getRandomInt(0, 2), lastPoint.y - getRandomInt(0, 2));\n  \t\t  ctx.lineTo(e.clientX - getRandomInt(0, 2), e.clientY - getRandomInt(0, 2));\n  \t\t  ctx.stroke();\n\n  \t\t  ctx.moveTo(lastPoint.x, lastPoint.y);\n  \t\t  ctx.lineTo(e.clientX, e.clientY);\n  \t\t  ctx.stroke();\n\n  \t\t  ctx.moveTo(lastPoint.x + getRandomInt(0, 2), lastPoint.y + getRandomInt(0, 2));\n  \t\t  ctx.lineTo(e.clientX + getRandomInt(0, 2), e.clientY + getRandomInt(0, 2));\n  \t\t  ctx.stroke();\n\n  \t\t  lastPoint = { x: e.clientX, y: e.clientY };\n  \t\t  break;\n    \t\tcase \"Slice Brush\":\n    \t\t\tctx.beginPath();\n\n  \t\t\t  ctx.globalAlpha = 1;\n  \t\t\t  ctx.moveTo(lastPoint.x, lastPoint.y);\n  \t\t\t  ctx.lineTo(e.clientX, e.clientY);\n  \t\t\t  ctx.stroke();\n\n  \t\t\t  ctx.moveTo(lastPoint.x - 4, lastPoint.y - 4);\n  \t\t\t  ctx.lineTo(e.clientX - 4, e.clientY - 4);\n  \t\t\t  ctx.stroke();\n\n  \t\t\t  ctx.moveTo(lastPoint.x - 2, lastPoint.y - 2);\n  \t\t\t  ctx.lineTo(e.clientX - 2, e.clientY - 2);\n  \t\t\t  ctx.stroke();\n\n  \t\t\t  ctx.moveTo(lastPoint.x + 2, lastPoint.y + 2);\n  \t\t\t  ctx.lineTo(e.clientX + 2, e.clientY + 2);\n  \t\t\t  ctx.stroke();\n\n  \t\t\t  ctx.moveTo(lastPoint.x + 4, lastPoint.y + 4);\n  \t\t\t  ctx.lineTo(e.clientX + 4, e.clientY + 4);\n  \t\t\t  ctx.stroke();\n\n  \t\t\t  lastPoint = { x: e.clientX, y: e.clientY };\n    \t\tbreak;\n    \t\tdefault:\n    \t\t\tctx.lineTo(e.touches[0].clientX*factor, (e.touches[0].clientY-66)*factor);\n    \t\t\tctx.stroke();\n    \t}\n    }\n\n    function endDraw(e){\n    \tctx.closePath();\n    }\n\n    this.openControls = function(e) {\n        e.preventDefault();\n        self.update({\n            isControlsOpen: !this.isControlsOpen\n        });\n    }\n\n    this.closeSheet = function(e) {\n        e&&e.preventDefault();\n        self.update({\n            isBottomsheetShown: false,\n            currentControl: \"\",\n            sheetTitle: \"\",\n        });\n    }\n\n    this.showColors = function(e) {\n        e.preventDefault();\n        self.update({\n            isControlsOpen: !this.isControlsOpen,\n            isBottomsheetShown: true,\n            currentControl: \"PALLETE\",\n            sheetTitle: \"choose color\"\n        });\n    }\n\n    this.showBrushes = function(e) {\n        e.preventDefault();\n        self.update({\n            isControlsOpen: !this.isControlsOpen,\n            isBottomsheetShown: true,\n            currentControl: \"BRUSHES\",\n            sheetTitle: \"choose brush\"\n        });\n    }\n\n    this.selectBrush=function(e){\n    \tselectedBrush = e.target.innerText;\n    \tthis.closeSheet(e);\n    }\n\n    this.selectColor=function(e){\n    \tcurrentColor=e;\n    \tself.closeSheet();\n    }\n\n    this.save=function(e){\n        e.preventDefault();\n        imageActions.saveImage(el.toDataURL(),null,null,userStore.getSessionId());\n    }\n\n    this.on(\"mount\", function() {\n    \t\tsetTimeout(function(){\n    \t\t\tself.update({showCanvas:true});\n\t\t\t\tselectedBrush = \"Simple Pencil\";\n\t\t\t    document.body.classList.add(\"noscroll\");\n\t\t\t    el = document.getElementById('canvas');\n\t\t\t    ctx = el.getContext('2d');\n\t\t\t    el.addEventListener(\"touchstart\",startDraw);\n\t\t\t    el.addEventListener(\"touchmove\",draw);\n\t\t\t    el.addEventListener(\"touchend\",endDraw);\n    \t\t},400);\n\n    });\n\n    this.on(\"unmount\", function() {\n        document.body.classList.remove(\"noscroll\");\n    });\n});\n\nriot.tag2('gp-header', '<div class=\"header {currState}\"><div class=\"nav\"><button class=\"menu {isBackEnabled?\\'back\\':\\'\\'}\" onclick=\"{menuClick}\"><svg fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path class=\"line line-first\" d=\"M3 18h18v-2H3v2zm0-5h18v\"></path><path class=\"line line-second\" d=\"M3 18h18v-2H3v2zm0-5h18v\"></path><path class=\"line line-third\" d=\"M3 18h18v-2H3v2zm0-5h18v\"></path></svg></button></div><div class=\"title\"><h1 class=\"titlefont\">kanvasProject</h1></div><div class=\"search\"><svg fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\" onclick=\"{goToSearch}\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg></div></div>', '', '', function(opts) {\n\t\tvar self=this;\n\n\t\tvar navActions=veronica.flux.Actions.getAction(\"NavigationActions\");\n\t\tvar routeStore=veronica.flux.Stores.getStore(\"RouteStore\");\n\n\t\tthis.currState=\"NA\";\n\n\t\tfunction checkBackButton(){\n\t\t\tvar currState=(routeStore.getCurrentRoute()||veronica.getCurrentState()).state;\n\t\t\tif(window.history.state.state===\"home\"){\n\t\t\t\tself.update({\n\t\t\t\t\tisBackEnabled:false,\n\t\t\t\t\tcurrState:currState\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tself.update({\n\t\t\t\t\tisBackEnabled:true,\n\t\t\t\t\tcurrState:currState\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.isBackEnabled=false;\n\n\t\tthis.goToSearch=function(){\n\t\t\tif(veronica.getCurrentState().state!==\"search\"){\n\t\t\t\tveronica.loc(\"/search\");\n\t\t\t}\n\n\t\t}\n\n\t\tthis.menuClick=function(e){\n\t\t\te.preventDefault();\n\t\t\tif(this.isBackEnabled){\n\t\t\t\thistory.go(-1);\n\t\t\t}else{\n\t\t\t\tnavActions.showModal();\n\t\t\t\tnavActions.openNavbar();\n\t\t\t}\n\t\t}\n\n\t\tthis.on(\"mount\",function(){\n\t\t\tsetTimeout(checkBackButton,300);\n\t\t\trouteStore.subscribe(\"route:changed\",checkBackButton);\n\t\t});\n\n});\nriot.tag2('gp-home', '<gp-pictureunit></gp-pictureunit><gp-pictureunit></gp-pictureunit>', '', '', function(opts) {\n\t\tvar userStore=veronica.flux.Stores.getStore(\"UserStore\");\n\n\t\tthis.on(\"mount\",function(){\n\t\t\tconsole.log(userStore.getUserProfile(\"me\"));\n\t\t\tif(!userStore.getUserProfile(\"me\"))\n\t\t\t{\n\t\t\t\tveronica.loc(\"/login\",true);\n\t\t\t}else{\n\t\t\t\twindow.scrollTo(0,0);\n\t\t\t}\n\t\t});\n});\nriot.tag2('icon-add', '<svg class=\"icon-add\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('icon-chat', '<svg class=\"icon-chat\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z\"></path><path d=\"M0 0h24v24H0z\" fill=\"none\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('icon-copy', '<svg class=\"icon-copy\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('icon-heart', '<svg class=\"icon-heart\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\" fill=\"#fff\"><path d=\"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('icon-pic', '<svg class=\"icon-pic\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('icon-publish', '<svg class=\"icon-publish\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('icon-tick', '<svg class=\"icon-tick\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"></path></svg>', '', '', function(opts) {\n});\nriot.tag2('gp-login', '<div class=\"title titlefont\"> KanvasProject </div><div class=\"fblogin\" if=\"{!userProfile}\"><img if=\"{!loading}\" src=\"https://www.takingwings.in/wp-content/plugins/wordpress-social-login/assets/img/32x32/wpzoom/facebook.png\" width=\"200\" onclick=\"{startLoading}\"><material-spinner if=\"{loading}\"></material-spinner></div>', '', '', function(opts) {\n\t\tvar self=this;\n\t\tvar userStore=veronica.flux.Stores.getStore(\"UserStore\");\n\t\tvar userActions=veronica.flux.Actions.getAction(\"UserActions\");\n\n\t\tthis.userProfile=userStore.getUserProfile(\"me\");\n\t\tthis.loading=false;\n\n\t\tthis.startLoading=function(){\n\t\t\tself.update({loading:true});\n\t\t\tFB.login(function(res){\n\t\t\t\tif(res.status===\"connected\"){\n\t\t\t\t\tvar url = '/me?fields=name,email,picture';\n\t                FB.api(url, function (response) {\n\t                \tuserActions.loginUser(response,res);\n\t                });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction logInSuccess(){\n\n\t\t\tveronica.loc(\"/\",true);\n\t\t}\n\n\t\tthis.on(\"mount\",()=>{\n\t\t\tif(this.userProfile){\n\t\t\t\tveronica.loc(\"/\",true);\n\t\t\t}else{\n\t\t\t\tuserStore.subscribe(\"user:login:success\", logInSuccess);\n\t\t\t}\n\t\t});\n\n\t\tthis.on(\"unmount\",()=>{\n\t\t\tuserStore.unsubscribe(\"user:login:success\", logInSuccess);\n\t\t});\n});\nriot.tag2('gp-modal', '<div class=\"modal {isModalShown?\\'opened\\':\\'\\'}\" onclick=\"{closeModal}\"></div>', '', '', function(opts) {\n\t\tvar self=this;\n\n\t\tvar navActions=veronica.flux.Actions.getAction(\"NavigationActions\");\n\t\tvar navStore=veronica.flux.Stores.getStore(\"NavigationStore\");\n\n\t\tthis.isModalShown=false;\n\n\t\tthis.closeModal=function(e){\n\t\t\tnavActions.hideModal();\n\t\t}\n\n\t\tthis.on(\"mount\",function(e){\n\t\t\tnavStore.subscribe(\"nav:modalchange\",function(){\n\t\t\t\tself.update({isModalShown:navStore.getModalStatus()});\n\t\t\t});\n\t\t});\n\n\t\tthis.on(\"unmount\",function(e){\n\n\t\t});\n});\nriot.tag2('gp-nav', '<nav></nav>', '', '', function(opts) {\n});\nriot.tag2('gp-navbar', '<nav class=\"{isNavBarOpen?\\'opened\\':\\'closed\\'}\" onswipeleft=\"{closeNavBar}\"><div class=\"userinfo\"><img class=\"pic\" width=\"60\" height=\"60\" riot-src=\"{userProfile.avatar_url}\"></img><div class=\"name\">{userProfile.name}</div></div><div class=\"navcontents\"><div class=\"navlinks\"><a class=\"navlink\" onclick=\"{closeNavBar}\" href=\"/search\"><svg class=\"icon\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"></path></svg><span class=\"text\">Search</span></a><a class=\"navlink\" onclick=\"{closeNavBar}\" href=\"/user/me\"><svg class=\"icon\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z\"></path></svg><span class=\"text\">Profile</span></a><a class=\"navlink\" onclick=\"{closeNavBar}\" href=\"/draw\"><svg class=\"icon\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z\"></path></svg><span class=\"text\">New Canvas</span></a></div></div><div class=\"settings\"><a class=\"navlink\" href=\"/search\"><svg class=\"icon\" fill=\"#FFFFFF\" height=\"24\" viewbox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0z\" fill=\"none\"></path><path d=\"M13 3h-2v10h2V3zm4.83 2.17l-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83z\"></path></svg><span class=\"text\">Logout</span></a></div></nav>', '', '', function(opts) {\n\t\tvar self=this;\n\n\t\tthis.isNavBarOpen=false;\n\n\t\tvar navActions=veronica.flux.Actions.getAction(\"NavigationActions\");\n\t\tvar navStore=veronica.flux.Stores.getStore(\"NavigationStore\");\n\t\tvar userStore=veronica.flux.Stores.getStore(\"UserStore\");\n\n\t\tthis.userProfile=userStore.getUserProfile(\"me\");\n\n\t\tfunction changeNavBarStatus(){\n\t\t\tself.update({\n\t\t\t\tisNavBarOpen:navStore.getNavBarStatus()&&navStore.getModalStatus()\n\t\t\t});\n\t\t\tif(self.isNavBarOpen){\n\t\t\t\tdocument.body.classList.add(\"noscroll\");\n\t\t\t} else {\n\t\t\t\tdocument.body.classList.remove(\"noscroll\");\n\t\t\t}\n\t\t}\n\n\t\tthis.closeNavBar=function(e){\n\t\t\tnavActions.closeNavBar();\n\t\t\tnavActions.hideModal();\n\t\t}\n\n\t\tthis.on(\"mount\",function(){\n\t\t\tnavStore.subscribe(\"nav:statuschange\",changeNavBarStatus);\n\t\t\tnavStore.subscribe(\"nav:modalchange\",changeNavBarStatus);\n\t\t});\n\n\t\tthis.on(\"unmount\",function(){\n\t\t\tnavStore.unsubscribe(\"nav:statuschange\",changeNavBarStatus);\n\t\t\tnavStore.unsubscribe(\"nav:modalchange\",changeNavBarStatus);\n\t\t});\n});\nriot.tag2('gp-picture', '<img class=\"pic\" height=\"{window.innerWidth}\" src=\"https://scontent-sit4-1.cdninstagram.com/t51.2885-15/sh0.08/e35/p750x750/13696665_1563391050635241_1057925117_n.jpg\"></img>', '', '', function(opts) {\n});\nriot.tag2('gp-pictureunit', '<gp-picunitheader></gp-picunitheader><gp-picture></gp-picture><div class=\"desc\"> Now. Me. Calmnessss...<br> Thanks to all the <a href=\"/tag/contributers\">#contributers</a></div><gp-stats></gp-stats>', '', '', function(opts) {\n});\nriot.tag2('gp-picunitheader', '<div class=\"picsection\"><img class=\"pic\" src=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13669817_1117113145017292_4920305262041128067_n.jpg?oh=32783654cad84190711280a5c377221d&oe=582970EA\" height=\"40\" width=\"40\"></img></div><div class=\"namesection\"><a href=\"/profile/112334\">prateek</a><span class=\"event-desc\"> owns this image</span></div><div class=\"timesection\"> 15m </div>', '', '', function(opts) {\n});\nriot.tag2('gp-stats', '<div class=\"stats\"><div class=\"copystats stat\"><button class=\"btn-action copy\"><icon-copy class=\"icon\"></icon-copy><span class=\"copy-count count\">{likeCount}</span></button></div><div class=\"commentstat stat\"><button class=\"btn-action comment\"><icon-chat class=\"icon icon-comment\"></icon-chat><span class=\"comment-count count\">{likeCount}</span></button></div><div class=\"likestat stat\"><button class=\"btn-action like\" onclick=\"{likePic}\"><icon-heart class=\"icon icon-like {isPicLiked?\\'liked\\':\\'\\'}\"></icon-heart><span class=\"like-count count\">{likeCount}</span></button><div class=\"likers me\"><img class=\"liker me\" src=\"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13669817_1117113145017292_4920305262041128067_n.jpg?oh=32783654cad84190711280a5c377221d&oe=582970EA\" riot-style=\"transform:{isPicLiked?\\'scale(1) translateX(10px)\\':\\'scale(0) translateX(0px)\\'}; z-index:{5} \"></div><div class=\"likers others {isPicLiked?\\'liked\\':\\'\\'}\"><img class=\"liker\" each=\"{img,index in likers}\" riot-src=\"{img}\" riot-style=\"transform:translateX({(-10*index)-10}px) {isPicLiked&&index===3?\\'scale(0)\\':\\'\\'}; z-index:{4-index}\"></div></div></div>', '', '', function(opts) {\n\t\tvar self=this;\n\n\t\tthis.isPicLiked=false;\n\t\tthis.likers=[\n\t\t\t\"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13669817_1117113145017292_4920305262041128067_n.jpg?oh=32783654cad84190711280a5c377221d&oe=582970EA\",\n\t\t\t\"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13669817_1117113145017292_4920305262041128067_n.jpg?oh=32783654cad84190711280a5c377221d&oe=582970EA\",\n\t\t\t\"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13669817_1117113145017292_4920305262041128067_n.jpg?oh=32783654cad84190711280a5c377221d&oe=582970EA\",\n\t\t\t\"https://scontent.xx.fbcdn.net/v/t1.0-1/p200x200/13669817_1117113145017292_4920305262041128067_n.jpg?oh=32783654cad84190711280a5c377221d&oe=582970EA\"];\n\t\tthis.likeCount=4;\n\n\t\tthis.likePic=function(e){\n\t\t\te.preventDefault();\n\t\t\tself.update({\n\t\t\t\tisPicLiked:!self.isPicLiked,\n\t\t\t\tlikeCount:!self.isPicLiked?self.likeCount+1:self.likeCount-1\n\t\t\t});\n\t\t}\n});\nriot.tag2('gp-picunit', '<div class=\"userinfo\"></div><div class=\"container-pic\"></div><div class=\"stats\"></div>', '', '', function(opts) {\n});\nriot.tag2('gp-followbutton', '<button class=\"follow {opts.following?\\'following\\':\\'\\'}\"><icon-add if=\"{!opts.following}\"></icon-add><icon-tick if=\"{opts.following}\"></icon-tick><span class=\"text\">{opts.following?\\'following\\':\\'follow\\'}</span></button>', '', '', function(opts) {\n});\n\nriot.tag2('gp-profile', '<div class=\"profilepic {userPic?\\'loaded\\':\\'\\'}\" riot-style=\"{userPic?\\'background-image:url(\\\\\\'\\'+userPic+\\'\\\\\\')\\':\\'\\'}\"><div class=\"username\">{userProfile.name}</div><gp-followbutton following=\"{true}\" if=\"{userProfile&&ownerProfile&&ownerProfile.profile.id!==userProfile.profile.id}\"></gp-followbutton></div><div class=\"usercontent\" if=\"{userProfile}\"><material-tabs useline=\"true\" tabs=\"[\\\\{title:\\'OWNED\\'\\\\},\\\\{title:\\'CONTRIBUTIONS\\'\\\\}]\" __selected=\"{selectedTab}\" tabchanged=\"{tabChanged}\"></material-tabs><div class=\"tabcontent tab{selectedTab}\" onswipeleft=\"{incTabsIndex}\" onswiperight=\"{decTabsIndex}\"><div class=\"tab tab-owned\"> Tab1 </div><div class=\"tab tab-contri\"> Tab2 </div></div></div><div class=\"usercontent\" if=\"{!userProfile}\"><div class=\"loader\"><material-spinner></material-spinner></div></div>', '', '', function(opts) {\n\t\tvar self = this;\n\t\tvar userStore = veronica.flux.Stores.getStore(\"UserStore\");\n\t\tvar userAction = veronica.flux.Actions.getAction(\"UserActions\");\n\t\tvar pid=veronica.getCurrentState().data[':pid'];\n\t\tvar userProfileEventSubscribed=false;\n\t\tvar $tabs=null;\n\t\tthis.userProfile = userStore.getUserProfile(pid);\n\t\tthis.ownerProfile = userStore.getUserProfile(\"me\");\n\t\tthis.userPic = null;\n\t\tthis.selectedTab=0;\n\n\t\tfunction setUserPic(profile){\n\t\t\tvar img = new Image();\n\t\t\timg.onload=function(){\n\t\t\t\tself.update({userPic : img.src});\n\t\t\t}\n\t\t\timg.src=profile.full_profile_url;\n\t\t}\n\n\t\tfunction setUserProfile(){\n\t\t\tself.update({\n\t\t\t\tuserProfile:userStore.getUserProfile(pid)\n\t\t\t});\n\t\t\tsetUserPic(userStore.getUserProfile(pid));\n\t\t}\n\n\t\tthis.incTabsIndex=function(e){\n\t\t\tif(this.selectedTab<1){\n\t\t\t\tself.update({selectedTab:this.selectedTab+1});\n\t\t\t\t$tabs._tag.changeTab(this.selectedTab);\n\t\t\t}\n\t\t}\n\t\tthis.decTabsIndex=function(e){\n\t\t\tif(this.selectedTab>0){\n\t\t\t\tself.update({selectedTab:this.selectedTab-1});\n\t\t\t\t$tabs._tag.changeTab(this.selectedTab);\n\t\t\t}\n\t\t}\n\n\t\tthis.tabChanged=function(){\n\t\t\tself.update({selectedTab:$tabs._tag.selected});\n\t\t}\n\n\t\tthis.on(\"mount\",()=>{\n\t\t\tuserAction.fetchUserProfile(pid, userStore.getSessionId());\n\t\t\t$tabs=this.root.querySelector(\"material-tabs\");\n\t\t\tif(!this.userProfile){\n\t\t\t\tuserProfileEventSubscribed=true;\n\t\t\t\tuserStore.subscribe(\"user:profile:fetched\",setUserProfile);\n\t\t\t}else{\n\t\t\t\tsetUserPic(this.userProfile);\n\t\t\t}\n\n\t\t});\n\n\t\tthis.on(\"unmount\",(e)=>{\n\t\t\tif(userProfileEventSubscribed){\n\t\t\t\tuserStore.unsubscribe(\"user:profile:fetched\",setUserProfile);\n\t\t\t}\n\t\t})\n});\n\nfunction UserAction(){\n\n\tthis.fetchUserProfile=function(uid, sid){\n\t\tfetch(apiBase+\"/user/profile/details/\"+uid,{\n\t\t\theaders: Object.assign({}, defaultHeaders, {'x-session-id': sid, 'x-account-id': sid})\n\t\t})\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tthis.Dispatcher.trigger(\"user:fetchprofile:success\",data);\n\t\t}).catch(e=>{\n\t\t\tthis.Dispatcher.trigger(\"user:fetchprofile:failed\",e);\n\t\t});\n\t}\n\n\tthis.loginUser=(fbprofile,oauth)=>{\n\t\tvar user={};\n\t\tfetch(window.apiBase+\"/user/signIn\",{\n\t\t\theaders:window.defaultHeaders,\n\t\t\tmethod:\"POST\",\n\t\t\tbody:JSON.stringify(\n\t\t\t{\n\t\t\t  \"user_details\": {\n\t\t\t\t\"avatar_url\": fbprofile.picture.data.url,\n\t\t\t\t\"name\": fbprofile.name,\n\t\t\t\t\"email\": fbprofile.email,\n\t\t\t\t\"id\": fbprofile.id\n\t\t\t  },\n\t\t\t  \"oauth_credentials\": {\n\t\t\t\t\"oauth_response\": {\n\t\t\t  \t\"access_token\": oauth.authResponse.accessToken\n\t\t\t\t}\n\t\t\t  }\n\t\t\t})\n\t\t})\n\t\t.then(res=>res.json())\n\t\t.then(data=>{\n\t\t\tthis.Dispatcher.trigger(\"user:login:success\",data);\n\t\t}).catch(e=>{\n\t\t\tthis.Dispatcher.trigger(\"user:login:failure\",{data:e});\n\t\t})\n\t}\n\n    this.setUserProfile=function(profile){\n        this.Dispatcher.trigger(\"user:setprofile\",{profile:profile});\n    }\n\n}\n\nveronica.flux.Actions.createAction(\"UserActions\",UserAction); \n \nfunction NavigationActions(){\n    this.openNavbar=function(){\n        this.Dispatcher.trigger(\"nav:opennavbar\",{});\n    }\n\n    this.closeNavBar=function(){\n        this.Dispatcher.trigger(\"nav:closenavbar\",{});\n    }\n\n    this.showModal=function(){\n    \tthis.Dispatcher.trigger(\"nav:openmodal\",{});\t\n    }\n\n    this.hideModal=function(){\n    \tthis.Dispatcher.trigger(\"nav:closemodal\",{});\t\n    }\n   \n}\n\nveronica.flux.Actions.createAction(\"NavigationActions\",NavigationActions); \n \nfunction ImageActions(){\n    this.saveImage=function(img,tags,description,sessionId){\n        console.log(LZW.encode(img).length,img.length);\n        fetch(window.apiBase+\"/image/save\",{\n            headers: Object.assign({},window.defaultHeaders,{'x-session-id': sessionId}),\n            method: \"POST\",\n            body: JSON.stringify({\n              \"image\": LZW.encode(img),\n              \"tags\": [\n                \"string\"\n              ],\n              \"account_id\": sessionId,\n              \"description\": \"string\",\n              \"title\": \"string\"\n            })\n        })\n        //this.Dispatcher.trigger(\"img:save\",{});\n    }\n   \n}\n\nveronica.flux.Actions.createAction(\"ImageActions\",ImageActions); \n \nfunction UserStore(){\n\n    var sessionId=localStorage.sid||null;\n    var users={};\n\n    users[\"me\"]=localStorage.user&&JSON.parse(localStorage.user)||null;\n    \n    if(users[\"me\"]){\n        users[users[\"me\"].account_id]=users[\"me\"];    \n    }\n    \n    //Register for actions\n\n    this.Dispatcher.register(\"user:login:success\",(data)=>{\n        //start caching big image \n        console.log(data.profile_details.user.full_profile_url);\n        var img=new Image();\n        img.src=data.profile_details.user.full_profile_url;\n        \n        sessionId=data.session_id;\n        users[\"me\"]=data.profile_details.user;\n        users[users[\"me\"].account_id]=users[\"me\"];\n        localStorage.sid = sessionId;\n        localStorage.user = JSON.stringify(users[\"me\"]);\n        this.emit(\"user:login:success\");\n    });\n\n    this.Dispatcher.register(\"user:login:failure\",(data)=>{\n        this.emit(\"user:login:failure\");\n    });\n\n    this.Dispatcher.register(\"user:fetchprofile:success\",(data)=>{\n        users[data.user.account_id]=data.user;\n        this.emit(\"user:profile:fetched\");\n    });\n\n    this.getUserProfile=function(uid){\n        return users[uid];\n    }\n\n    this.getSessionId=function(){\n        return sessionId;\n    }\n\n}\n \n//creating an store \nveronica.flux.Stores.createStore(\"UserStore\",UserStore);\nfunction RouteStore(){\n    var prevRoute=null;\n    var currRoute=null;\n    var self=this;\n\n    window.addEventListener(\"popstate\",function(){\n        prevRoute=currRoute;\n        currRoute=veronica.getCurrentState();\n        self.emit(\"route:changed\");\n    });\n\n\n    /* hack for push state */\n    (function(history){\n        var pushState = history.pushState;\n        history.pushState = function(state) {\n            if (typeof history.onpushstate == \"function\") {\n                history.onpushstate({state: state});\n            }\n            pushState.apply(history, arguments);\n            prevRoute=currRoute;\n            currRoute=state;\n            self.emit(\"route:changed\");\n        }\n    })(window.history);\n\n    this.getPrevoute=function(){\n        return prevRoute;\n    }\n\n    this.getCurrentRoute=function(){\n        return currRoute;\n    }\n\n}\n \n//creating an store \nveronica.flux.Stores.createStore(\"RouteStore\",RouteStore);  \nfunction NavigationStore(){\n    var self=this;\n    var isNavBarOpen=false;\n    var isModalShow=false;\n\n    //Register for actions\n    this.Dispatcher.register(\"nav:opennavbar\",openNavBar);\n    this.Dispatcher.register(\"nav:closenavbar\",closeNavBar);\n    this.Dispatcher.register(\"nav:openmodal\",openModal);\n    this.Dispatcher.register(\"nav:closemodal\",closeModal);\n\n    function openNavBar(){\n        isNavBarOpen=true;\n        self.emit(\"nav:statuschange\");\n    }\n\n    function closeNavBar(){\n        isNavBarOpen=false;\n        self.emit(\"nav:statuschange\");\n    }\n\n    function openModal(){\n        isModalShow=true;\n        self.emit(\"nav:modalchange\");\n    }\n\n    function closeModal(){\n        isModalShow=false;\n        self.emit(\"nav:modalchange\");\n    }\n\n    this.getNavBarStatus=function(){\n        return isNavBarOpen;\n    }\n\n    this.getModalStatus=function(){\n        return isModalShow;\n    }\n\n}\n \n//creating an store \nveronica.flux.Stores.createStore(\"NavigationStore\",NavigationStore);  "]}